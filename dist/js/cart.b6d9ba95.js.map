{"version":3,"sources":["webpack:///./src/views/cart.vue?6ca9","webpack:///./src/views/cart.vue?1e0f","webpack:///src/views/cart.vue","webpack:///./src/views/cart.vue?d311","webpack:///./src/views/cart.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cart_vue_vue_type_style_index_0_id_0e48e320_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_cart_vue_vue_type_style_index_0_id_0e48e320_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","cart","carts","length","_v","_s","_e","_l","item","key","id","attrs","src","product","imageUrl","alt","title","category","qty","unit","on","click","$event","removeCartItem","final_total","total","_f","directives","name","rawName","value","expression","type","placeholder","domProps","input","target","composing","coupon_code","addCouponCode","to","staticRenderFns","cartvue_type_script_lang_js_","data","couponSwitch","methods","getCart","_this","$store","dispatch","$http","get","concat","then","res","console","log","_this2","delete","$bus","$emit","_this3","api","coupon","code","post","success","alert","addtoCart","_this4","arguments","undefined","product_id","changeCart","mark","_this5","forEach","e","createOrder","_this6","$validator","validate","valid","form","$router","push","orderId","mounted","views_cartvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/cart.b6d9ba95.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=0e48e320&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&id=0e48e320&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all\"},[(_vm.cart.carts ? _vm.cart.carts.length !== 0 : false)?_c('div',{staticClass:\"cart container\"},[(_vm.cart.carts)?_c('div',{staticClass:\"cart-title\"},[_vm._v(\"共\"+_vm._s(_vm.cart.carts.length)+\"項商品\")]):_vm._e(),_vm._l((_vm.cart.carts),function(item){return _c('div',{key:item.id,staticClass:\"cart-item\"},[_c('div',{staticClass:\"cart-item-flex\"},[_c('img',{staticClass:\"cart-item-flex-pic\",attrs:{\"src\":item.product.imageUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"cart-item-flex-title\"},[_c('div',{staticClass:\"primary\"},[_vm._v(_vm._s(item.product.title))]),_c('div',{staticClass:\"secondary\"},[_vm._v(\"品牌:\"+_vm._s(item.product.category))]),_c('div',{staticClass:\"qty\"},[_vm._v(\"數量:\"+_vm._s(item.qty)+_vm._s(item.product.unit))])]),_c('div',{staticClass:\"cart-item-flex-cancel\",on:{\"click\":function($event){return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"fas fa-times \"})])]),_c('div',{staticClass:\"cart-item-flex\"},[(item.final_total === item.total)?_c('div',{staticClass:\"cart-item-flex-price\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(item.final_total)))]):_c('div',{staticClass:\"cart-item-flex-price\"},[_c('div',{staticClass:\"discount\"},[_vm._v(\"折扣後\")]),_c('div',{staticClass:\"final\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(item.final_total)))]),_c('div',{staticClass:\"save\"},[_vm._v(\"省NT\"+_vm._s(_vm._f(\"currency\")((item.total - item.final_total))))])])])])}),_c('div',{staticClass:\"cart-block\"},[_c('div',{staticClass:\"cart-block-sum\"},[_c('div',{staticClass:\"cart-block-sum-name\"},[_vm._v(\"商品金額小計\")]),_c('div',{staticClass:\"cart-block-sum-price\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]),_c('div',{staticClass:\"cart-block-sum line\"},[_c('div',{staticClass:\"cart-block-sum-name\"},[_vm._v(\"活動折扣\")]),_c('div',{staticClass:\"cart-block-sum-price\"},[_vm._v(\"-NT\"+_vm._s(_vm._f(\"currency\")((_vm.cart.total - _vm.cart.final_total))))])]),_c('div',{staticClass:\"cart-block-sum\"},[(_vm.cart.carts)?_c('div',{staticClass:\"cart-block-sum-name\"},[_vm._v(\"共\"+_vm._s(_vm.cart.carts.length)+\"項商品\")]):_vm._e(),_c('div',{staticClass:\"cart-block-sum-price final\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])]),_c('div',{staticClass:\"cart-block-coupon\"},[_c('div',{staticClass:\"cart-block-coupon-title\"},[_vm._v(\"優惠券\")]),_c('div',{staticClass:\"cart-block-coupon-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"num\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入123456\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"use\",on:{\"click\":_vm.addCouponCode}},[_vm._v(\"使用\")])])]),(_vm.couponSwitch)?_c('div',{staticClass:\"cart-block-sum\"},[_c('div',{staticClass:\"cart-block-sum-coupon\"},[_vm._v(\"(已套用優惠券)\")])]):_vm._e(),_c('router-link',{staticClass:\"cart-block-next\",attrs:{\"to\":\"/check-out\"}},[_vm._v(\"下一步\")])],1)],2):_c('div',{staticClass:\"empty container\"},[_c('div',{staticClass:\"empty-word\"},[_vm._v(\"你的購物車還未有商品\")]),_c('router-link',{staticClass:\"empty-home\",attrs:{\"to\":\"/\"}},[_vm._v(\"繼續購物\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"all\">\r\n    <div class=\"cart container\" v-if=\"cart.carts ? cart.carts.length !== 0 : false\">\r\n      <div class=\"cart-title\" v-if=\"cart.carts\">共{{ cart.carts.length }}項商品</div>\r\n      <div class=\"cart-item\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n        <div class=\"cart-item-flex\">\r\n          <img :src=\"item.product.imageUrl\" alt=\"\" class=\"cart-item-flex-pic\" />\r\n          <div class=\"cart-item-flex-title\">\r\n            <div class=\"primary\">{{ item.product.title }}</div>\r\n            <div class=\"secondary\">品牌:{{ item.product.category }}</div>\r\n            <div class=\"qty\">數量:{{item.qty}}{{item.product.unit}}</div>\r\n          </div>\r\n          <div class=\"cart-item-flex-cancel\" @click=\"removeCartItem(item.id)\">\r\n            <i class=\"fas fa-times \"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"cart-item-flex\">\r\n          <!-- <div class=\"cart-item-flex-calc\">\r\n            <div class=\"mark mark1\" @click=\"changeCart(item.id, false, item.qty)\">\r\n              <i class=\"fas fa-minus\"></i>\r\n            </div>\r\n            <input type=\"text\" class=\"mark-num\" v-model=\"item.qty\" readonly />\r\n            <div class=\"mark mark2\" @click=\"changeCart(item.id, true, item.qty)\">\r\n              <i class=\"fas fa-plus\"></i>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"cart-item-flex-price\" v-if=\"item.final_total === item.total\">NT{{ item.final_total | currency }}</div>\r\n          <div class=\"cart-item-flex-price\" v-else>\r\n            <div class=\"discount\">折扣後</div>\r\n            <div class=\"final\">NT{{ item.final_total | currency }}</div>\r\n            <div class=\"save\">省NT{{ (item.total - item.final_total) | currency }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"cart-block\">\r\n        <div class=\"cart-block-sum\">\r\n          <div class=\"cart-block-sum-name\">商品金額小計</div>\r\n          <div class=\"cart-block-sum-price\">NT{{ cart.total | currency }}</div>\r\n        </div>\r\n        <div class=\"cart-block-sum line\">\r\n          <div class=\"cart-block-sum-name\">活動折扣</div>\r\n          <div class=\"cart-block-sum-price\">-NT{{ (cart.total - cart.final_total) | currency }}</div>\r\n        </div>\r\n        <div class=\"cart-block-sum\">\r\n          <div class=\"cart-block-sum-name\" v-if=\"cart.carts\">共{{ cart.carts.length }}項商品</div>\r\n          <div class=\"cart-block-sum-price final\">NT{{ cart.final_total | currency }}</div>\r\n        </div>\r\n        <div class=\"cart-block-coupon\">\r\n          <div class=\"cart-block-coupon-title\">優惠券</div>\r\n          <div class=\"cart-block-coupon-flex\">\r\n            <input type=\"text\" class=\"num\" placeholder=\"請輸入123456\" v-model=\"coupon_code\" />\r\n            <div class=\"use\" @click=\"addCouponCode\">使用</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"cart-block-sum\" v-if=\"couponSwitch\">\r\n          <div class=\"cart-block-sum-coupon\">(已套用優惠券)</div>\r\n        </div>\r\n        <router-link to=\"/check-out\" class=\"cart-block-next\">下一步</router-link>\r\n      </div>\r\n    </div>\r\n    <div class=\"empty container\" v-else>\r\n      <div class=\"empty-word\">你的購物車還未有商品</div>\r\n      <router-link to=\"/\" class=\"empty-home\">繼續購物</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      cart: {},\r\n      coupon_code: '',\r\n      couponSwitch: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getCart() {\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/adam/cart`).then(res => {\r\n        console.log(res.data);\r\n        this.cart = res.data.data;\r\n        this.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n    removeCartItem(id) {\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/adam/cart/${id}`).then(res => {\r\n        console.log(res);\r\n        this.getCart();\r\n        this.$bus.$emit('show');\r\n        this.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n    addCouponCode() {\r\n      this.$store.dispatch('updateLoading', true);\r\n      const api = `${process.env.VUE_APP_API}/api/adam/coupon`;\r\n      const coupon = {\r\n        code: this.coupon_code,\r\n      };\r\n      this.$http.post(api, { data: coupon }).then(res => {\r\n        console.log(res);\r\n        if (res.data.success) {\r\n          this.getCart();\r\n          this.couponSwitch = true;\r\n        } else {\r\n          alert('優惠碼有誤');\r\n        }\r\n        this.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n    addtoCart(id, qty = 1) {\r\n      this.$store.dispatch('updateLoading', true);\r\n      const api = `${process.env.VUE_APP_API}/api/adam/cart`;\r\n      const cart = {\r\n        product_id: id,\r\n        qty,\r\n      };\r\n      this.$http.post(api, { data: cart }).then(res => {\r\n        console.log(res);\r\n        if (res.data.success) {\r\n          this.$bus.$emit('show');\r\n        }\r\n      });\r\n      this.$store.dispatch('updateLoading', false);\r\n    },\r\n    changeCart(id, mark, qty) {\r\n      console.log(id);\r\n      //mark ? this.addtoCart(id, qty + 1) : this.addtoCart(id, qty - 1);\r\n      this.cart.carts.forEach(e => {\r\n        if (e.id === id) {\r\n          mark ? e.qty++ : e.qty--;\r\n          this.addtoCart(id, qty);\r\n        }\r\n      });\r\n    },\r\n    createOrder() {\r\n      const api = `${process.env.VUE_APP_API}/api/adam/order`;\r\n      this.$validator.validate().then(valid => {\r\n        if (valid) {\r\n          this.$http.post(api, { data: this.form }).then(res => {\r\n            if (res.data.success) {\r\n              console.log('訂單已建立', res);\r\n              this.$router.push(`/customer-checkout/${res.data.orderId}`);\r\n            }\r\n          });\r\n        } else {\r\n          console.log('欄位不完整');\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    //this.addtoCart('-LwRy4YowuSsDsS8fmtZ',3);\r\n    this.getCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/_variable.scss';\r\n@import '../assets/_grid.scss';\r\n.all {\r\n  margin-top: 140px;\r\n}\r\n.cart {\r\n  &-title {\r\n  }\r\n  &-item {\r\n    outline: 1px solid rgba(128, 128, 128, 0.3);\r\n    padding: 20px;\r\n    margin: 0 0 15px 0;\r\n    &-flex {\r\n      display: flex;\r\n      align-items: flex-start;\r\n      margin-bottom: 15px;\r\n      &-pic {\r\n        width: 120px;\r\n        @include pad {\r\n          width: 200px;\r\n        }\r\n        @include padTOdeskTop {\r\n          width: 250px;\r\n        }\r\n        height: auto;\r\n        margin-right: 15px;\r\n      }\r\n      &-title {\r\n        .primary {\r\n          background-color: $important;\r\n          color: white;\r\n          padding: 10px;\r\n          margin-bottom: 20px;\r\n        }\r\n        .secondary {\r\n          //opacity: 0.6;\r\n          font-size: 16px;\r\n        }\r\n        .qty{\r\n          //opacity: .6;\r\n          font-size: 16px;\r\n\r\n        }\r\n      }\r\n      &-cancel {\r\n        margin-left: auto;\r\n        cursor: pointer;\r\n        border-radius: 50%;\r\n        width: 25px;\r\n        height: 25px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        display: flex;\r\n        color: $important;\r\n        transition: 0.5s all;\r\n        &:hover {\r\n          background-color: $important;\r\n          color: white;\r\n        }\r\n      }\r\n      //以上是上半部的flex\r\n      &-calc {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin-bottom: 20px;\r\n        > * {\r\n          margin-right: 20px;\r\n          transition: 0.5s all;\r\n          width: 30px;\r\n          height: 30px;\r\n          @include padTOdeskTop {\r\n            width: 50px;\r\n            height: 50px;\r\n          }\r\n        }\r\n        .mark {\r\n          position: relative;\r\n          padding: 0;\r\n          background-color: white;\r\n          cursor: pointer;\r\n          &1 {\r\n            outline: 1px solid rgba(128, 128, 128, 0.6);\r\n            color: rgba(128, 128, 128, 0.6);\r\n            &:hover {\r\n              outline: 1px solid rgba(128, 128, 128, 1);\r\n            }\r\n          }\r\n          &2 {\r\n            outline: 1px solid lighten($important, 30%);\r\n            color: $important;\r\n            &:hover {\r\n              outline: 1px solid darken($important, 30%);\r\n            }\r\n          }\r\n          > * {\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            transform: translate(-50%, -50%);\r\n            //font-size: 30px;\r\n            font-size: 20px;\r\n          }\r\n          &-num {\r\n            border: none;\r\n            outline: none;\r\n            text-align: center;\r\n            font-size: 22px;\r\n          }\r\n        }\r\n      }\r\n      &-price {\r\n        text-align: right;\r\n        margin-left: auto;\r\n        color: $important;\r\n        .discount {\r\n          color: red;\r\n        }\r\n        .final {\r\n          color: red;\r\n        }\r\n        .save {\r\n          opacity: 0.6;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &-block {\r\n    width: 100%;\r\n    @include padTOdeskTop {\r\n      width: 500px;\r\n    }\r\n    padding: 20px;\r\n    background-color: $important;\r\n    margin: auto;\r\n    color: white;\r\n    &-sum {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 20px;\r\n      &-name {\r\n        font-weight: bold;\r\n      }\r\n      .final {\r\n        font-weight: bold;\r\n      }\r\n      &-coupon {\r\n        margin-left: auto;\r\n      }\r\n    }\r\n    .line {\r\n      border-bottom: 1px solid white;\r\n      padding-bottom: 5px;\r\n    }\r\n    &-coupon {\r\n      margin-bottom: 20px;\r\n      &-flex {\r\n        @include padTOdeskTop {\r\n          display: flex;\r\n        }\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .num {\r\n          border: none;\r\n          outline: none;\r\n          width: 100%;\r\n          margin: 0 0 10px 0;\r\n          @include padTOdeskTop {\r\n            width: auto;\r\n          }\r\n        }\r\n        .use {\r\n          color: $important;\r\n          background-color: white;\r\n          cursor: pointer;\r\n          transition: 0.5s all;\r\n          margin-left: auto;\r\n          width: 100px;\r\n          text-align: center;\r\n          padding: 5px 0;\r\n          &:hover {\r\n            background-color: black;\r\n            color: white;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &-next {\r\n      color: $important;\r\n      background-color: white;\r\n      width: 150px;\r\n      padding: 10px;\r\n      text-align: center;\r\n      margin: auto;\r\n      cursor: pointer;\r\n      margin: 15px 0 0 auto;\r\n      display: block;\r\n      transition: 0.5s all;\r\n      &:hover {\r\n        background-color: black;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n}\r\n.empty {\r\n  margin: auto;\r\n  text-align: center;\r\n  padding: 100px 0;\r\n  &-word {\r\n    opacity: 0.6;\r\n    margin-bottom: 20px;\r\n    font-size: 30px;\r\n  }\r\n  &-home {\r\n    width: 200px;\r\n    margin: auto;\r\n    cursor: pointer;\r\n    color: white;\r\n    padding: 15px 20px;\r\n    font-size: 20px;\r\n    background-color: $important;\r\n    transition: 0.5s all;\r\n    &:hover {\r\n      background-color: white;\r\n      color: $important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=0e48e320&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=0e48e320&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e48e320\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}