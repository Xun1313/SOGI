(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["checkPay"],{"38fb":function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5"},[e("form",{staticClass:"col-md-6 mt-4 mx-auto",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(s.final_total)))])])}),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("router-link",{staticClass:"btn btn-danger mx-1",attrs:{to:"/"}},[t._v("繼續購物")]),e("button",{staticClass:"btn btn-danger mx-1"},[t._v("確認付款去")])],1):t._e()])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])}],i=e("d588"),o={data:function(){return{isLoading:!1,orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this;this.$store.dispatch("updateLoading",!0),this.$http.get("".concat("https://vue-course-api.hexschool.io","/api/adam/order/").concat(this.orderId)).then(function(s){console.log(s),t.order=s.data.order,t.$store.dispatch("updateLoading",!1)})},payOrder:function(){var t=this;this.$http.post("".concat("https://vue-course-api.hexschool.io","/api/adam/pay/").concat(this.orderId)).then(function(s){console.log(s),s.data.success&&(t.getOrder(),t.$router.push("/check-out/check-ok"))})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder(),this.$bus.$emit("progress",!0,!0,!1,"66%"),this.$bus.$emit("show")},components:{progresses:i["a"]}},n=o,c=e("2877"),d=Object(c["a"])(n,r,a,!1,null,null,null);s["default"]=d.exports},d588:function(t,s,e){"use strict";var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5 d-flex flex-column align-items-center container"},[e("ul",{staticClass:"list-group list-group-horizontal my-3 rounded w-75"},[e("li",{staticClass:"list-group-item w-100 text-center",class:{"bg-secondary":t.order}},[t._v("輸入訂單資料")]),e("li",{staticClass:"list-group-item w-100 text-center",class:{"bg-secondary":t.pay}},[t._v("確認付款")]),e("li",{staticClass:"list-group-item w-100 text-center",class:{"bg-secondary":t.finish}},[t._v("完成")])]),e("div",{staticClass:"progress w-75"},[e("div",{staticClass:"progress-bar bg-secondary",style:{width:t.length},attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})])])},a=[],i={data:function(){return{order:!0,pay:!1,finish:!1,length:"33%"}},methods:{},created:function(){var t=this;this.$bus.$on("progress",function(s,e,r,a){t.order=s,t.pay=e,t.finish=r,t.length=a})}},o=i,n=e("2877"),c=Object(n["a"])(o,r,a,!1,null,null,null);s["a"]=c.exports}}]);
//# sourceMappingURL=checkPay.cb209a63.js.map